# Template for backend environment variables.
# Copy this file to .env in the 'backend' directory and fill in the actual values.

# --- General Server Settings ---
# Backend server port
PORT=3001
# Node environment (development, production, etc.)
NODE_ENV=development

# --- External Service Credentials ---
# National Rail Enquiries LDBWS Access Token (if using Train mode)
NRE_API_TOKEN=your_nre_api_token_here

# --- Display MQTT Broker Details ---
# URL of the MQTT broker for the physical display
DISPLAY_MQTT_BROKER_URL=mqtt://your_broker_address:1883 # Or mqtts://, ws://, wss://
# Topic to publish display commands to
DISPLAY_MQTT_TOPIC=splitflap/set_text # Or your display's topic
# Optional MQTT credentials
DISPLAY_MQTT_USERNAME=your_mqtt_username
DISPLAY_MQTT_PASSWORD=your_mqtt_password

# --- Session Configuration (Required if OIDC_ENABLED=true) ---
# A long, random, secret string used to sign the session ID cookie.
# Generate a strong secret (e.g., using: openssl rand -base64 32)
SESSION_SECRET=replace_this_with_a_strong_random_secret

# --- Optional OIDC Authentication Configuration ---
# Set to true to enable OIDC authentication, false or leave unset to disable.
OIDC_ENABLED=false
# Get these details from your OIDC provider (e.g., Auth0, Keycloak, Google)
OIDC_ISSUER_URL=https://your-oidc-provider.com/ # Base URL of the OIDC provider
OIDC_CLIENT_ID=your_client_id_from_provider
OIDC_CLIENT_SECRET=your_client_secret_from_provider
# The URL where the OIDC provider redirects back after authentication.
# MUST match the redirect URI registered with your provider.
# Should be your backend's base URL + /auth/callback (e.g., http://localhost:3001/auth/callback)
OIDC_REDIRECT_URI=http://localhost:3001/auth/callback
